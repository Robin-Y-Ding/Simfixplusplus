The real buggy line:
if ( fnType != null ) { 

The real patch line:
if ( fnType != null && fnType . hasInstanceType ( ) ) { 

----------------------Similar Code (Buggy, patch):---------------------


if ( nameNode == null ) return;
if ( nameNode == null ) { return; }
--File: src_com_google_javascript_jscomp_FunctionInjector.java



if ( defs == null ) { return; }
if ( defs . isEmpty () ) { return; }
--File: src_com_google_javascript_jscomp_DefinitionUseSiteFinder.java



assertTrue ( plot != null ) ;
assertTrue ( true ) ;
--File: tests_org_jfree_chart_plot_junit_CategoryPlotTests.java



super ( null ) ;
super ( randomData . getRandomGenerator () ) ;
--File: src_main_java_org_apache_commons_math3_random_EmpiricalDistribution.java



checkState ( curNode != null ) ;
checkNotNull ( curNode ) ;
--File: src_com_google_javascript_jscomp_NodeTraversal.java



ensureTyped ( t , n ) ;
ensureTyped ( n ) ;
--File: src_com_google_javascript_jscomp_TypeCheck.java



ensureTyped ( t , n ) ;
ensureTyped ( n ) ;
--File: src_com_google_javascript_jscomp_TypeCheck.java



ensureTyped ( t , n ) ;
ensureTyped ( n ) ;
--File: src_com_google_javascript_jscomp_TypeCheck.java



propdef . setJSType ( null ) ;
propdef . setJSType ( stringType ) ;
--File: src_com_google_javascript_jscomp_LateEs6ToEs3Converter.java



defineVar ( n ) ;
defineVars ( n ) ;
--File: src_com_google_javascript_jscomp_TypedScopeCreator.java



{ inOrder ( null ) ; }
{ inOrder ( ( Object [] ) null ) ; }
--File: test_org_mockitousage_verification_BasicVerificationInOrderTest.java



assertTrue ( ObjectUtils.NULL != null ) ;
assertNotNull ( ObjectUtils.NULL ) ;
--File: src_test_org_apache_commons_lang_ObjectUtilsTest.java



if ( getRhs () == null ) { return; }
if ( getRhs () == null || shouldPreserve () ) { return; }
--File: src_com_google_javascript_jscomp_ijs_PotentialDeclaration.java



defineVars ( n ) ;
defineVar ( n ) ;
--File: src_com_google_javascript_jscomp_TypedScopeCreator.java



visitForOf ( n , parent ) ;
visitForOf ( t , n , parent ) ;
--File: src_com_google_javascript_jscomp_LateEs6ToEs3Converter.java



visitForOf ( n , parent ) ;
visitForOf ( t , n , parent ) ;
--File: src_com_google_javascript_jscomp_LateEs6ToEs3Converter.java



checkNotNull ( funType ) ;
checkNotNull ( funType , STRING_CONSTANT , recvType , setterPname ) ;
--File: src_com_google_javascript_jscomp_NewTypeInference.java



fillBinStats ( in ) ;
fillBinStats ( new StreamDataAdapter ( in ) ) ;
--File: src_main_java_org_apache_commons_math3_random_EmpiricalDistribution.java



verify ( mock ) ;
unfinishedVerificationHere () ;
--File: test_org_mockitousage_misuse_InvalidStateDetectionTest.java



if ( boundaries == null ) return x ;
if ( boundaries == null ) { return x ; }
--File: src_main_java_org_apache_commons_math_optimization_direct_CMAESOptimizer.java




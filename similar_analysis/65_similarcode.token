The real buggy line:
return sumYY - sumXY * sumXY / sumXX ; 

The real patch line:
return Math . max ( 0d , sumYY - sumXY * sumXY / sumXX ) ; 

----------------------Similar Code (Buggy, patch):---------------------


return Math . sqrt ( sum ) ;
return FastMath . sqrt ( sum ) ;
--File: src_main_java_org_apache_commons_math_linear_ArrayRealVector.java



return Math . sqrt ( sum ) ;
return FastMath . sqrt ( sum ) ;
--File: src_main_java_org_apache_commons_math_linear_ArrayRealVector.java



return Math . sqrt ( sum ) ;
return FastMath . sqrt ( sum ) ;
--File: src_main_java_org_apache_commons_math_linear_ArrayRealVector.java



return Math . sqrt ( sum ) ;
return FastMath . sqrt ( sum ) ;
--File: src_main_java_org_apache_commons_math_linear_AbstractRealVector.java



return Math . sqrt ( sum2 ) ;
return FastMath . sqrt ( sum2 ) ;
--File: src_main_java_org_apache_commons_math_linear_BlockRealMatrix.java



return sum / ( double ) v.length ;
return sum / v.length ;
--File: src_test_org_apache_commons_math_stat_descriptive_moment_VarianceTest.java



double tmp = wxi * xi / di ;
final double tmp = wxi * xi / di ;
--File: src_main_java_org_apache_commons_math3_stat_regression_MillerUpdatingRegression.java



return Math . sqrt ( sum / v.length ) ;
return FastMath . sqrt ( sum / v.length ) ;
--File: src_test_java_org_apache_commons_math_stat_descriptive_moment_StandardDeviationTest.java



return ImmutableList . copyOf ( out ) ;
return out ;
--File: src_com_google_javascript_jscomp_gwt_client_GwtRunner.java



return Math . sqrt ( res ) ;
return FastMath . sqrt ( res ) ;
--File: src_main_java_org_apache_commons_math_linear_OpenMapRealVector.java



return Math . sqrt ( res ) ;
return FastMath . sqrt ( res ) ;
--File: src_main_java_org_apache_commons_math_linear_OpenMapRealVector.java



return Math . sqrt ( d ) ;
return FastMath . sqrt ( d ) ;
--File: src_main_java_org_apache_commons_math_linear_AbstractRealVector.java



return ( List ) matchers ;
return matchers ;
--File: src_main_java_org_mockito_internal_progress_ArgumentMatcherStorageImpl.java



num = Math . abs ( num ) ;
num = FastMath . abs ( num ) ;
--File: src_main_java_org_apache_commons_math3_fraction_ProperFractionFormat.java



uu . setEscapingPlus ( true ) ;
uu = new UnicodeUnescaper ( UnicodeUnescaper.PARAM.escapePlus ) ;
--File: src_test_org_apache_commons_lang_text_translate_UnicodeUnescaperTest.java



return subtype . isBottom () ;
return subtype . isEmptyType () ;
--File: src_com_google_javascript_jscomp_PureFunctionIdentifier.java



return super . hashCode () ;
return result ;
--File: source_org_jfree_chart_annotations_XYPointerAnnotation.java



return ( a == rhs.a ) ;
return a == rhs.a ;
--File: src_test_java_org_apache_commons_lang3_builder_HashCodeBuilderTest.java



return ( a == rhs.a ) ;
return a == rhs.a ;
--File: src_test_java_org_apache_commons_lang3_builder_EqualsBuilderTest.java



return ( a == rhs.a ) ;
return a == rhs.a ;
--File: src_test_java_org_apache_commons_lang3_builder_CompareToBuilderTest.java



